@model KerazaWebApplication.Models.Category

@{
    ViewData["Title"] = "Details";
}
<div class="text-center mx-auto mb-5 wow fadeInUp" data-wow-delay="0.1s" style="max-width: 600px; visibility: visible; animation-delay: 0.1s; animation-name: fadeInUp;">
    <a asp-action="Edit" asp-controller="categories" asp-route-id="@Model.Id" > <h1 class="mb-3">@Model.Name <i style="font-size:30px" class="fa fa-edit text-primary"></i></h1></a>
    <p>Eirmod sed ipsum dolor sit rebum labore magna erat. Tempor ut dolore lorem kasd vero ipsum sit eirmod sit. Ipsum diam justo sed rebum vero dolor duo.</p>
</div>

<h3 class="ms-1">Events</h3>
<div class="row g-4 mb-4">
    @if (Model.Events.Count == 0)
    {
        <div class="text-center mx-auto mb-5 wow fadeInUp" data-wow-delay="0.1s" style="max-width: 600px; visibility: visible; animation-delay: 0.1s; animation-name: fadeInUp;">

        <h2>No Events Added yet</h2>
        </div>
    }
    @foreach (var item in Model.Events)
    {

        <div class="col-lg-4 col-md-6 wow fadeInUp" data-wow-delay="0.1s" style="visibility: visible; animation-delay: 0.1s; animation-name: fadeInUp;">
            <div class="property-item rounded overflow-hidden border">
                <div class="position-relative overflow-hidden">
                    <a asp-action="ShowEvent" asp-controller="Events" asp-route-id="@item.Id">
                        <!-- Fixed image size with object-fit: cover to handle different image sizes -->
                        @{
                            if (item.Sermons.Count == 0)
                            {
                                <img class="img-fluid" src="https://www.firstbenefits.org/wp-content/uploads/2017/10/placeholder-1024x1024.png" alt="" style="width: 100%; height: 250px; object-fit: cover;">
                            }
                            else
                            {
                                <img class="img-fluid" src="@item.Sermons[0].ImageURL" alt="" style="width: 100%; height: 250px; object-fit: cover;">
                            }
                        }
                    </a>
                    <div class="bg-primary rounded text-white position-absolute start-0 top-0 m-4 py-1 px-3">@item.Sermons.Count() Sermon</div>
                    <div class="bg-white rounded-top text-primary position-absolute start-0 bottom-0 mx-4 pt-1 px-3">@item.Name</div>
                </div>
                <div class="p-4 pb-0">
                    <h5 class="text-primary arabicText mb-3">@item.Sermons.Count() Sermon</h5>
                    <a class="d-block h5 mb-2" href="">@item.Name</a>
                    @* <p><i class="fa fa-map-marker-alt text-primary me-2"></i>@item.Event.Name <b>|</b> @item.Date.ToString("yyyy-MM-dd")</p> *@
                </div>
            </div>
        </div>
    }
    </div>

    <div class="col-12 text-center wow fadeInUp" data-wow-delay="0.1s" style="visibility: visible; animation-delay: 0.1s; animation-name: fadeInUp;">
        <a class="btn btn-primary py-3 px-5" asp-action="create" asp-controller="Events">Create New Event</a>
    </div>
    <hr />
<h1>Details</h1>

<div>
    <h4>Category</h4>
    <hr />
    <dl class="row">
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Name)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Name)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.AddedBy)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.AddedBy)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.AddedOn)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.AddedOn)
        </dd>
    </dl>
</div>
<div>
    <a asp-action="Edit" asp-route-id="@Model?.Id">Edit</a> |
    <a asp-action="Index">Back to List</a>
</div>
